{
  "components": [

    {
      "name": "Component",
      "supertypes": [ ],
      "abstract": true,
      "defaults": [ "+Component!", "-Component!" ],
    },

    { "name": "This" },
    { "name": "Die" },

    { "name": "Plural", "abstract": true },    // can have abs. identical
    { "name": "Singleton", "abstract": true }, // one always exists if type exists
    { "name": "Atomized", "abstract": true },  // always gain/lose one-by-one

    { "name": "Phase", "abstract": true },
    { "name": "ProductionPhase", "supertypes": [ "Phase" ] },
    { "name": "End", "supertypes": [ "Phase" ] },

    { "name": "Anyone", "abstract": true, "singleton": true },
    { "name": "Npc", "supertypes": [ "Anyone" ] },
    {
      "name": "Player",
      "supertypes": [ "Anyone" ],
      // "effects": [ "ProductionPhase: -5" ],
      "abstract": true,
    },
    { "name": "Me", "supertypes": [ "Player" ] }, // The placeholder for the context owner
    { "name": "Player1", "supertypes": [ "Player" ] }, // The actual solo player


    {
      "name": "Generation",
      "supertypes": [ "Plural" ]
    },

    {"name": "Area", "abstract": true, "singleton": true },
    {"name": "RemoteArea",   "supertypes": ["Area"],     "abstract": true},
    {"name": "MarsArea",     "supertypes": ["Area"],     "abstract": true},
    {"name": "LandArea",     "supertypes": ["MarsArea"], "abstract": true},
    {"name": "VolcanicArea", "supertypes": ["LandArea"], "abstract": true},
    {"name": "WaterArea",    "supertypes": ["MarsArea"], "abstract": true},
    {"name": "NoctisArea",   "supertypes": ["MarsArea"], "abstract": true},

    {
      "name": "Tile",
      "dependencies": [ "Area" ], // 3: tile to area it's on
      // "immediate": [ "$createAdjacencies(This)" ],
      "abstract": true
    },

    { "name": "AreaAdjacency", "dependencies": [ "MarsArea", "MarsArea" ] },
    { "name": "Neighbor",      "dependencies": [ "MarsArea", "Tile"     ] },
    { "name": "Adjacency",     "dependencies": [ "Tile",     "Tile"     ] },

    { "name": "StandardAction", "abstract": true, "singleton": true },
    { "name": "StandardProject", "abstract": true, "singleton": true },

    {
      "name": "Owned",
      "dependencies": [ "Anyone" ], // 1: owned to owner
      "abstract": true,
      "defaults": "*Owned<Me>",
    },


    // Owned things -- come back to global parameters later


    {
      "name": "Resource",
      "supertypes": [ "Owned", "Plural" ],
      "abstract": true,
    },
    {
      "name": "StandardResource",
      "supertypes": [ "Resource" ],
      "abstract": true,
    },
    {"name": "Megacredit", "supertypes": ["StandardResource"]},
    {"name": "Steel",      "supertypes": ["StandardResource"]},
    {"name": "Titanium",   "supertypes": ["StandardResource"]},
    {"name": "Plant",      "supertypes": ["StandardResource"]},
    {"name": "Heat",       "supertypes": ["StandardResource"]},
    {
      "name": "Energy",
      "supertypes": [ "StandardResource" ],
      "effects": [ "ProductionPhase:: -This, Heat" ], // Heat FROM This
    },
    {
      "name": "Production",
      "supertypes": [ "Owned", "Plural" ],
      "dependencies": [ "TYPE StandardResource" ], // 2: production to resource type - TYPE
      "effects": [ "ProductionPhase: StandardResource" ],
    },

    { "name": "VictoryPoint", "supertypes": [ "Owned<Player>", "Plural" ] },
    {
      "name": "TerraformRating",
      "supertypes": [ "Owned<Player>", "Plural" ],
      "effects": [
        "ProductionPhase: 1",
        "End: VictoryPoint",
      ]
    },

    {
      "name": "CardBack",
      "supertypes": [ "Owned<Player>", "Plural" ],
      "abstract": true,
    },
    { "name": "ProjectCard",     "supertypes": ["CardBack"] },
    { "name": "PreludeCard",     "supertypes": ["CardBack"] },
    { "name": "CorporationCard", "supertypes": ["CardBack"] },


    // Back to unowned things


    // How to deal with splitting 3 into 1, 1, 1?
    {
      "name": "GlobalParameter",
      "supertypes": [ "Plural" ],
      "abstract": true,
      "effects": [  "This: TerraformRating" ],
      "defaults": [ "+GlobalParameter.", "-GlobalParameter." ],
    },
    {
      "name": "OceanTile",
      "supertypes": [ "Tile<MarsArea>", "GlobalParameter" ],
      "effects": [ "Adjacency<This, Tile>: 2" ],
      "defaults": [ "+OceanTile<WaterArea>"],
    },
    {
      "name": "TemperatureStep",
      "supertypes": [ "GlobalParameter" ],
      "effects": [
        // "This IF =3 This: PROD[Heat]", //player?
        // "This IF =5 This: PROD[Heat]",
        // "This IF =15 This: OceanTile",
      ]
    },
    {
      "name": "OxygenStep",
      "supertypes": [ "GlobalParameter" ],
      "effects": [
        // "This IF =8 This: TemperatureStep",
      ]
    },
    {
      "name": "VenusStep",
      "supertypes": [ "GlobalParameter" ],
      "effects": [
        // "This IF =4 This: ProjectCard", // player?
        // "This IF =8 This: TerraformRating", // player?
      ]
    },

    // Back to owned things

    {
      "name": "OwnedTile",
      "supertypes": [ "Owned", "Tile" ],
      "abstract": true,
    },
    {
      "name": "GreeneryTile",
      "supertypes": [ "OwnedTile<MarsArea>" ],
      "effects": [
        "This: OxygenStep",
        "End: VictoryPoint",
      ],
      "defaults": [ "+GreeneryTile<LandArea(HAS Neighbor<OwnedTile>)>" ],
    },
    {
      "name": "CityTile",
      "supertypes": [ "OwnedTile" ],
      "effects": [
        "End: VictoryPoint / Adjacency<This, GreeneryTile<Anyone>>", // TODO ><
      ],
      "defaults": [ "+CityTile<LandArea(HAS MAX 0 Neighbor<CityTile<Anyone>>)>" ],
    },
    {
      "name": "SpecialTile",
      "supertypes": [ "OwnedTile<MarsArea>" ],
      "defaults": [ "+SpecialTile<LandArea>" ],
    },

    { // only exists once the card has been played
      "name": "CardFront",
      "supertypes": [ "Owned" ],
      "abstract": true,
    },
    {"name": "ActiveCard",    "supertypes": [ "CardFront" ], "abstract": true},
    {"name": "AutomatedCard", "supertypes": [ "CardFront" ], "abstract": true},
    {"name": "EventCard",     "supertypes": [ "CardFront" ], "abstract": true},
    {
      "name": "PlayedEvent",
      "supertypes": [ "Owned<Player>" ],
      "plural": true,
    },

    {
      "name": "Cardbound",
      "supertypes": [ "Owned" ],
      "dependencies": [ "CardFront" ], // 4: cardbound cpt to card it's on
      "abstract": true,
    },

    {"name": "Tag", "supertypes": [ "Cardbound", "Plural" ], "abstract": true},
    {"name": "BuildingTag",  "supertypes": ["Tag"]},
    {"name": "SpaceTag",     "supertypes": ["Tag"]},
    {"name": "CityTag",      "supertypes": ["Tag"]},
    {"name": "PowerTag",     "supertypes": ["Tag"]},
    {"name": "ScienceTag",   "supertypes": ["Tag"]},

    {"name": "BioTag",       "supertypes": ["Tag"], "abstract": true},
    {"name": "PlantTag",     "supertypes": ["BioTag"]},
    {"name": "MicrobeTag",   "supertypes": ["BioTag"]},
    {"name": "AnimalTag",    "supertypes": ["BioTag"]},

    {"name": "PlanetaryTag", "supertypes": ["Tag"], "abstract": true},
    {"name": "EarthTag",     "supertypes": ["PlanetaryTag"]},
    {"name": "JovianTag",    "supertypes": ["PlanetaryTag"]},
    {"name": "VenusTag",     "supertypes": ["PlanetaryTag"]},

    {
      "name": "CardResource",
      "abstract": true,
      "supertypes": [ "Resource", "Cardbound<ActiveCard>" ],
      "defaults": [ "+CardResource." ],
    },
    { "name": "Animal",   "supertypes": ["CardResource"] },
    { "name": "Asteroid", "supertypes": ["CardResource"] },
    { "name": "Floater",  "supertypes": ["CardResource"] },
    { "name": "Microbe",  "supertypes": ["CardResource"] },
    { "name": "Science",  "supertypes": ["CardResource"] },
    { "name": "Fighter",  "supertypes": ["CardResource"] },

    {
      "name": "ActionCardUsage",
      "supertypes": [ "Cardbound<ActiveCard>" ],
    },

    {
      "name": "Purchase",
      "supertypes": [ "Owned<Player>" ], // temporary
      "dependencies": [ "TYPE Component" ], // 5: purchase to what it's of - TYPE
    },
    {
      "name": "Owed",
      "supertypes": [ "Owned<Player>", "Plural" ], // temporary
      "dependencies": [ "TYPE StandardResource" ], // 6: what is owed - TYPE
    },
    {
      "name": "Required",
      "supertypes": [ "Owned<Player>", "Plural" ], // temporary
      "dependencies": [ "TYPE GlobalParameter" ], // 6: what is owed - TYPE
      "defaults": [ "-Required." ],
    },

    { "name": "Card021Area", "supertypes": ["RemoteArea"] },
    { "name": "Card081Area", "supertypes": ["RemoteArea"] },
    { "name": "Card220Area", "supertypes": ["RemoteArea"] },
    { "name": "Card236Area", "supertypes": ["RemoteArea"] },
    { "name": "Card238Area", "supertypes": ["RemoteArea"] },
    { "name": "Card248Area", "supertypes": ["RemoteArea"] },
    { "name": "CardX12Area", "supertypes": ["RemoteArea"] },
    { "name": "Card008Tile", "supertypes": ["CityTile"] },
    { "name": "Card085Tile", "supertypes": ["SpecialTile"] },
  ]
}
